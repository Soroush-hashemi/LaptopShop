@using WebApplication.Areas.Admin.Models.Products
@using PresentationFacade.Categories
@model ProductViewModel
@inject ICategoryFacade _categoreyFacade
@{
    ViewData["title"] = "افزودن محصولات";
    ViewData["selected"] = "Product";
    var categories = await _categoreyFacade.GetList();
}
<section class="content-header">
    <h1>
        @ViewData["title"]
    </h1>
    <ol class="breadcrumb">
        <li><a href="~/Admin"><i class="fa fa-dashboard"></i> خانه</a></li>
        <li><a href="~/Admin/Product">محصولات</a></li>
        <li class="active">@ViewData["title"]</li>
    </ol>
</section>
<section class="content">
    <form class="box box-danger" method="post" asp-area="Admin" asp-controller="Product" asp-action="Create" enctype="multipart/form-data">
        <div class="box-body row">
            <div class="col-md-6">
                @Html.EditorFor(m => m.Title)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Slug)
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label asp-for="Description"></label>
                    <textarea class="form-control" id="ckEditor4" asp-for="Description"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-6 ">
                <div class="form-group">
                    <label asp-for="CategoryId"></label>
                    <select asp-for="CategoryId" class="form-control">
                        <option value="null">انتخاب کنید</option>
                        @foreach (var item in categories.Where(c => c.ParentId == null))
                        {
                            <option value="@item.Id">@item.Title</option>
                        }
                    </select>
                    <span asp-validation-for="CategoryId"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="SubCategoryId"></label>
                    <select asp-for="SubCategoryId" class="form-control">
                        <option value="0">انتخاب کنید</option>
                    </select>
                    <span asp-validation-for="SubCategoryId"></span>
                </div>
            </div>

            <div class="col-md-6">
                @Html.EditorFor(m => m.Description)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Price)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.DiscountedPrice)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ImageFile)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ImageFileSecond)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ImageFileThird)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ImageFileFourth)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ImageNameFifth)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Color)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.IsSpecial)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ProductNotExist)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.AdminSuggestion)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Brand)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Weight)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Dimensions)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.nonOriginal)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.IncludedItems)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Classification)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Situation)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.SpecialFeatures)
            </div>
            <br />
            <div class="box-body row">
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.MetaTitle)
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.MetaDescription)
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.MetaKeyWords)
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.Canonical)
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.Schema)
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(m => m.seoDataViewModel.IndexPage)
                </div>
            </div>
            <br />
            <div class="col-md-6">
                @Html.EditorFor(m => m.BigTable)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Cpu)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ProcessorSpeed)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Ram)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.TypeOfRam)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Storage)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.TypeOfStorage)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Graphic)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.TypeOfGraphic)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ScreenSize)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.Screen)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.LapTopPorts)
            </div>
            <br />
            <div class="col-md-6">
                @Html.EditorFor(m => m.CartridgeType)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PrintType)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PrintSize)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PrintingTechnology)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PaperSize)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PaperInputCapacity)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PrintResolution)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.PrinterMemory)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.CopySpeed)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.FaxResolution)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ScannerResolution)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.ScannerDepth)
            </div>
            <div class="col-md-6">
                @Html.EditorFor(m => m.MonthlyWorkCapacity)
            </div>
            <div class="col-md-6 ">
                <script>
                    CKEDITOR.replace('ckEditor4');
                </script>
            </div>
            <div class="box-footer">
                <button class="btn btn-success" type="submit">ثبت اطلاعات</button>
            </div>
        </div>
    </form>
</section>

@section scripts {
    <script>
        $("#CategoryId").change(function () {
            var categoryId = $(this).val();
            $.ajax({
                url: "/admin/category/GetChildCategories?parentId=" + categoryId,
                type: "get"
            }).done(function (data) {
                $("#SubCategoryId").html(`<option value='0'>انتخاب کنید</option>`);

                for (var i in data) {
                    var category = data[i];
                    $("#SubCategoryId").append(`<option value='${category.id}'>${category.title}</option>`);
                }
            });
        })
    </script>
    <CKEditor:CKEditorControl ID="CKEditor1" runat="server"> </CKEditor:CKEditorControl>
}